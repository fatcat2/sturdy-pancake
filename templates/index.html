{% extends "base.html" %}
{% block title %}{{ year }}{% endblock %}
{% block head %}
<script>
	$(document).ready(function(){
		var table = $('#moneyTable').DataTable({
			responsive: true,
			ajax: "/static/{{ year }}.txt",
			columnDefs: [
				{
					targets: [ 0, 1, 2 ],
					className: 'mdl-data-table__cell--non-numeric'
				}
			]
		});
		$('#moneyTable').on( 'click', 'tr', function () {
			if({{ year }} != "2016" || {{year}} != "2017"){
				var data = table.row(this).data();
				console.log(data[0]);
				location.href = "/salary/"+data[0]+data[1]+data[2];
			}
		} );
	});
</script>

<style type="text/css">
	a.mdl-js-ripple-effect { position: relative; }
	#monies{
		overflow-x: auto;
	}
</style>
{% endblock %}

{% block content %}
<main class="mdl-layout__content">
	<div class="mdl-grid mdl-grid--no-spacing">
		<div class="mdl-cell mdl-cell--12-col">
			<h1 style="text-align: center;">{{ year }}</h1>
		</div>
	</div>
	<div class="mdl-grid mdl-grid--no-spacing mdl-color--grey-100">
		<div class="mdl-cell mdl-cell--2-col mdl-layout--large-screen-only mdl-cell--0-col-tablet mdl-cell--0-col-tablet">

		</div>
		<div id="monies" class="mdl-cell mdl-cell--8-col mdl-cell--middle mdl-cell--12-col-tablet mdl-cell--4-col-tablet">
			<table id="moneyTable" class="mdl-data-table responsive" style="width:100%">
				<thead>
					<tr>
						<th class="all">Last Name</th>
						<th class="all">First Name</th>
						<th class="min-desktop">Middle Name</th>
						<th class="min-desktop">Employee Group</th>
						<th class="min-desktop">Department</th>
						<th class="all">Compensation</th>
					</tr>
				</thead>
			</table>
		</div>
		<div class="mdl-cell mdl-cell--2-col mdl-layout--large-screen-only mdl-cell--hide-tablet mdl-cell--hide-phone">
			<!-- Simple list -->
			<style>
			.demo-list-item {
			  width: 300px;
			}
			</style>
			<h4>Years</h4>
			<ul class="mdl-list">
			  <li class="mdl-list__item">
			    <span class="mdl-list__item-primary-content">
			      <a href="/">2017</a>
			    </span>
			  </li>
			  <li class="mdl-list__item">
			    <span class="mdl-list__item-primary-content">
			      <a href="/2016">2016</a>
			    </span>
			  </li>
			  <li class="mdl-list__item">
			    <span class="mdl-list__item-primary-content">
			      <a href="/2015">2015</a>
			    </span>
			  </li>
			  <li class="mdl-list__item">
			    <span class="mdl-list__item-primary-content">
			      <a href="/2014">2014</a>
			    </span>
			  </li>
			  <li class="mdl-list__item">
			    <span class="mdl-list__item-primary-content">
			      <a href="/2013">2013</a>
			    </span>
			  </li>
			  <li class="mdl-list__item">
			    <span class="mdl-list__item-primary-content">
			      <a href="/2012">2012</a>
			    </span>
			  </li>
			  <li class="mdl-list__item">
			    <span class="mdl-list__item-primary-content">
			      <a href="/2011">2011</a>
			    </span>
			  </li>
			</ul>
		</div>
		<div class="mdl-cell mdl-cell--2-col mdl-layout--small-screen-only">
		</div>
	</div>
</main>
{% endblock %}
